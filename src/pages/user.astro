---
import { getUserData } from "../utils/getUserData";
import Layout from "../layouts/Layout.astro";
const userCookie = Astro.cookies.get('userData').value;
const userData = getUserData(userCookie);
import { Image } from 'astro:assets';

if(!userData) {
    return Astro.redirect('/login');
}
---
<Layout>
    <div class="card lg:card-side bg-base-100 shadow-xl m-12">
        <figure><Image src={userData.image} alt="userImage" width='500' height='500'/></figure>
        <div class="card-body">
            <h2 class="card-title">{userData.firstName} {userData.lastName}</h2>
            <p class="text-gray-600 mb-4">Username: {userData.username}</p>
            <p class="text-gray-600 mb-4">Email: {userData.email}</p>
            <p class="text-gray-600 mb-4">Gender: {userData.gender}</p>
            <div class="card-actions justify-end">
                <a class="btn btn-error" href="/logout">Logout</a>
            </div>
        </div>
    </div>
<!--    <div class="max-w-lg bg-white rounded-lg shadow-md overflow-hidden">
        <div class="avatar">
            <div class="w-24 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                <img src={userData.image} alt="user_image"/>
            </div>
        </div>

        <div class="px-6 py-4">
            <h2 class="text-2xl font-bold mb-2">{userData.firstName} {userData.lastName}</h2>
            <p class="text-gray-600 mb-4">Username: {userData.username}</p>
            <p class="text-gray-600 mb-4">Email: {userData.email}</p>
            <p class="text-gray-600 mb-4">Gender: {userData.gender}</p>
            <p class="text-gray-600 mb-4">Gender: {userData.gender}</p>
        </div>
    </div>-->
</Layout>

